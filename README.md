
# üè¶ Daily Expenses Sharing Application


#  Introduction
The Daily Expenses Sharing Application allows users to add expenses and split them among participants using three different methods: equal splits, exact amounts, and percentages. The application also provides features for user management and generates downloadable balance sheets.

##  Features
### User Management:
  - Create and retrieve user details.
### Expense Management:
  -  Add expenses and split them in multiple ways.
  -  Validate inputs to ensure data integrity.
  -  Generate balance sheets for individual users and overall expenses.


##  Getting Started

### Prerequisites
Before you begin, ensure you have the following installed:
-  **Java 17** or above 
- Ô∏è **Apache Maven** 
- Ô∏è **MySQL Workbench** 
- Ô∏è **Eclipse** or **Spring Tool Suite** 
-  **Postman** 


##  Installation
# configuration 
  ### Database Configuration:

   Create a database named "dailyexpenses".
   
  ### Update"application.properties":

 - spring.application.name= `Daily-Expenses-Sharing-Application`
 
 - server.port=   `8082`
    - This property sets the port number on which the Spring Boot application will run.By default, Spring Boot applications run on port 8080, but this can be 
      changed as needed.
 
 - spring.datasource.url= `jdbc:mysql://localhost:3306/DailyExpenses`
  
     - This property defines the JDBC  URL for connecting to the MySQL database. It specifies the database type, host, port, and the name of the database.
                                                                    
 - spring.datasource.username= `root`

     - Defines the username for the database connection .
 
 - spring.datasource.password= `root`

     - Specifies the password for the database connection. 
 
 - spring.datasource.driver-class-name= `com.mysql.cj.jdbc.Driver`

     - Specifies the fully qualified name of the JDBC driver. 
 
 - spring.jpa.hibernate.ddl-auto= `update`

     - Defines the behavior of the Hibernate's automatic schema generation. update creates the schema if it doesn't exist and updates it if it does. 
 
 - spring.jpa.show-sql= `true`

     - Enables logging of SQL statements generated by Hibernate. 
 
 - logging.level.org.springframework= `DEBUG`

     - Sets the logging level for Spring framework classes.
 
### Ô∏èRunning the Application
 
 - Import the Project: Unzip the project file and import it into your IDE (e.g., Eclipse).
 - Create the Database: Create a MySQL database named DailyExpenses.
 - Run the Application: Start the application from your IDE.


# API View
 ### Base URL
 - `http://localhost:8082`
## User view

### Create User

 - Method: POST
 - URL: `/api/users`
 - Description: Creates a new user.
 ### Request Body:
  
   - {
   - "email": "siva@example.com",
   - "name": "sivasamy",
   - "mobile": "8959353969"
   - }
   
 - Response: Status: 201 Created
 
### Retrieve User Details
- Method: GET
- URL: ` /api/users/{id}`
- Description: Retrieves details of a user by ID.
- Example URL: `/api/users/1`
- Response: Status: 200 OK

## Expenses view
### Add Expenses
- Method: POST
- URL: `/api/expenses`
- Description: Adds a new expense.
### Request Body: 
   - {
   -  "Description": "Dinner",
   - "Amount": 1500.50,
   - "Date": "2024-10-2",
   - "UserId": 1,
   - "splits": [

   - {
   - "UserId": 1,
   - "Amount": 500.20,
   - "SplitType": "EQUAL"
   - }
   - {
   - "UserId": 2,
   - "Amount": 500.20,
   - "SplitType": "EQUAL"
   - }
   - {
   - "UserId": 3,
   - "Amount": 500.10,
   - "SplitType": "EQUAL"
   - }
   - ]
   - }

   
 - Response: Status: 201 Created


### Retrieve Individual User Expenses
 - Method: GET

 - URL: `/api/expenses/user/{userId}`
 - Description: Retrieves all expenses for a specific user by user ID.
 - Example URL: `/api/expenses/user/1`
 - Response: Status: 200 OK


###  Retrieve Overall Expenses
 - Method: GET
 - URL: `/api/expenses/overall`
 - Description: Retrieves all expenses in the system.
 - Response: Status: 200 OK

### Download Balance Sheet
 - Method: GET
 - URL: `/api/expenses/download/{userId}`
 - Description: Generates and downloads a balance sheet for a specific user.
 - Example URL: `/api/expenses/download/1`
 - Response: Status: 200 OK


 - Headers: 
 - Content-Disposition: attachment; filename=balance_sheet.csv
 - Content-Type: `application/csv`

## Database Structure

- Stores user details such as email, name, and mobile number.

 - Stores expense details including description, amount, date, and user ID.

- Stores information about how expenses are split among users.

## Screenshot Postmap
- /api/users
![img.png](img.png)
- api/users/1
![img_1.png](img_1.png)
- api/expenses
![img_2.png](img_2.png)
- expenses/user/1
![img_3.png](img_3.png)
- api/expenses/overall
![img_4.png](img_4.png)
- /api/expenses/download/1
![img_5.png](img_5.png)
